<div class="employee-form-container py-40px">
  <div class="row" *ngIf="form" [formGroup]="form">
    <div class="col-5 px-30px pb-10px">
      <lqh-input
        [viewModel]="viewModel"
        formControlName="firstName"
        label="{{ 'FIRST_NAME_LABEL' | translate }}"
        placeholder="{{ 'FIRST_NAME_LABEL' | translate }}"
        lqhInputLetter
        required="true"
      ></lqh-input>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-input
        [viewModel]="viewModel"
        formControlName="lastName"
        label="{{ 'LAST_NAME_LABEL' | translate }}"
        placeholder="{{ 'LAST_NAME_LABEL' | translate }}"
        lqhInputLetter
        required="true"
      ></lqh-input>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-password-input
        [viewModel]="viewModel"
        formControlName="password"
        label="PASSWORD_LABEL"
        placeholder="PASSWORD_LABEL"
        required="true"
      ></lqh-password-input>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-password-input
        [viewModel]="viewModel"
        formControlName="confirmPassword"
        label="CONFIRM_PASSWORD_LABEL"
        placeholder="CONFIRM_PASSWORD_LABEL"
      ></lqh-password-input>
    </div>
    <div class="col-10 px-30px pb-10px">
      <div class="lqh-label-field">{{ 'GENDER_LABEL' | translate }}</div>
      <lqh-gender-toggle 
        [viewModel]="viewModel"
        formControlName="gender"></lqh-gender-toggle>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-date-input
        [viewModel]="viewModel"
        formControlName="dob"
        label="DOB_LABEL"
        placeholder="DOB_LABEL"
        (change)="dateChange()"
        required="true"
      ></lqh-date-input>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-input
        [viewModel]="viewModel"
        formControlName="age"
        label="{{ 'AGE_LABEL' | translate }}"
        placeholder="{{ 'AGE_LABEL' | translate }}"
        readonly="true"
      ></lqh-input>
    </div>
    <div class="col-10 id-card-info">
      <lqh-employee-id-card
        path="idCardInfo"
        [formGroup]="form.controls.idCardInfo"
        [viewModel]="viewModel.idCardInfo"
        [parentViewModel]="viewModel"
      ></lqh-employee-id-card>
      <!-- <div class="row" formGroupName="idCardInfo">
        <div class="col-6 px-30px pb-10px">
          <lqh-input
            path="idCardInfo.idNumber"
            [viewModel]="viewModel"
            formControlName="idNumber"
            label="{{ 'ID_CARD_LABEL' | translate }}"
            placeholder="{{ 'ID_CARD_LABEL' | translate }}"
            required="true"
          ></lqh-input>
        </div>
        <div class="col-6 px-30px pb-10px">
          <lqh-date-input
            path="idCardInfo.createDate"
            [viewModel]="viewModel"
            formControlName="createDate"
            label="CREATE_DATE_LABEL"
            placeholder="CREATE_DATE_LABEL"
          ></lqh-date-input>
        </div>
        <div class="col-12 px-30px pb-10px">
          <div class="lqh-label-field">{{ 'CREATE_PLACE_LABEL' | translate }}</div>
          <lqh-chip-list-open-dialog
            path="idCardInfo.createPlace"
            [dialogConfig]="getDialogConfigForChipList()"
            [dataSourceMetadata]="getChiplistDataSourceMetadata()"
            formControlName="createPlace"
            [viewModel]="viewModel"
          ></lqh-chip-list-open-dialog>
        </div>
      </div> -->
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-select-option 
        label="DEPARTMENTS_LABEL"
        placeholder="DEPARTMENTS_LABEL"
        formControlName="department"
        [viewModel]="viewModel"
        [dataSource]="departments"
        [dataSourceMetadata]="{display: 'name'}"
        required="true"
        ></lqh-select-option>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-select-option
        *ngIf="positions?.length"
        label="POSITIONS_LABEL"
        placeholder="POSITIONS_LABEL"
        formControlName="position"
        [viewModel]="viewModel"
        [dataSource]="positions"
        [dataSourceMetadata]="{display: 'name'}"
        required="true"
        ></lqh-select-option>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-input
        formControlName="phone"
        [viewModel]="viewModel"
        label="{{ 'PHONE_LABEL' | translate }}"
        placeholder="{{ 'PHONE_LABEL' | translate }}"
        lqhInputNumber
        required="true"
      ></lqh-input>
    </div>
    <div class="col-5 px-30px pb-10px">
      <lqh-input
        formControlName="email"
        [viewModel]="viewModel"
        label="{{ 'EMAIL_LABEL' | translate }}"
        placeholder="{{ 'EMAIL_LABEL' | translate }}"
        required="true"
      ></lqh-input>
    </div>
    <div class="col-10 px-30px pb-10px">
      <lqh-address-input
        label="WARDS_DISTRICT_PROVINCE_LABEL"
        placeholder="WARDS_DISTRICT_PROVINCE_LABEL"
        [viewModel]="viewModel"
        formControlName="addressInfo"
        required="true"
      ></lqh-address-input>
    </div>
    <div class="col-10 px-30px pb-10px">
      <lqh-avatar-uploading-card></lqh-avatar-uploading-card>
    </div>
    <div class="col-10 px-30px pb-10px">
      <button
        mat-button
        class="btn btn-raised btn-accent mr-30px"
        [disabled]="formHasError()"
        (click)="saveEmployee()"
      >
        {{ 'SAVE_LABEL' | translate }}
      </button>
      <button mat-button class="btn btn-raised btn-basic" [mat-dialog-close]="false">
        {{ 'CANCEL_LABEL' | translate }}
      </button>
    </div>
  </div>
</div>
